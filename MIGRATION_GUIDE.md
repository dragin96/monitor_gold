# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –±–æ—Ç–∞

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

–ë–æ—Ç —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–¥–≤–∞ —Ñ–æ—Ä–º–∞—Ç–∞** —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏:

### 1. –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç (—Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∫–ª—é—á–∏) ‚ú®

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ü—Ä–æ—â–µ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
- –ë—Ä–∞—É–∑–µ—Ä–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (–æ–±—Ö–æ–¥ –∑–∞—â–∏—Ç—ã –æ—Ç –±–æ—Ç–æ–≤)
- –ù–µ –Ω—É–∂–Ω–æ –∏—Å–∫–∞—Ç—å categoryId –≤ DevTools

**–ü—Ä–∏–º–µ—Ä:**
```
/check flacon-magazine
/categories
```

### 2. –°—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç (—á–∏—Å–ª–æ–≤—ã–µ ID)

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –î–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å–æ —Å—Ç–∞—Ä—ã–º–∏ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏
- –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –∫–æ—Ç–æ—Ä–æ–π –Ω–µ—Ç –≤ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö

**–ü—Ä–∏–º–µ—Ä:**
```
/check 1000001798
/track 1000001798
```

## –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### `/check <category>`
–†–∞–±–æ—Ç–∞–µ—Ç —Å –æ–±–æ–∏–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏:
- `/check flacon-magazine` - –ø–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–º—É –∫–ª—é—á—É (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±—Ä–∞—É–∑–µ—Ä)
- `/check 1000001798` - –ø–æ —á–∏—Å–ª–æ–≤–æ–º—É ID (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç API)

### `/categories` (–Ω–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞)
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ –∫–ª—é—á–∞–º–∏.

```
üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:

‚Ä¢ flacon-magazine
  Flacon Magazine
  https://goldapple.ru/brands/flacon-magazine
```

### –°—Ç–∞—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- `/track <categoryId>` - —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ–≤—ã–µ ID
- `/list` - —Å–ø–∏—Å–æ–∫ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- `/remove <categoryId>` - —É–¥–∞–ª–∏—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ

## –ö–∞–∫ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞

### –ï—Å–ª–∏ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –≤—Ä—É—á–Ω—É—é:

1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–æ—Ç–∞ (Ctrl+C)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
   ```bash
   npm install
   ```
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞:
   ```bash
   npm start
   # –∏–ª–∏
   node src/index.js
   ```

### –ï—Å–ª–∏ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –∫–∞–∫ —Å–µ—Ä–≤–∏—Å (PM2):

```bash
pm2 restart gold-apple-bot
```

### –ï—Å–ª–∏ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –≤ Docker:

```bash
docker-compose restart
```

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π

–ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º –∫–ª—é—á–æ–º, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ [src/categoryTracker.js](src/categoryTracker.js):

```javascript
const CATEGORIES = {
  'flacon-magazine': {
    name: 'Flacon Magazine',
    url: 'https://goldapple.ru/brands/flacon-magazine'
  },
  // –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à—É –∫–∞—Ç–µ–≥–æ—Ä–∏—é:
  'new-brand': {
    name: 'New Brand Name',
    url: 'https://goldapple.ru/brands/new-brand'
  }
};
```

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ **–ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞**.

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–º–∞–Ω–¥—ã:

1. `/start` - –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
2. `/categories` - –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
3. `/check flacon-magazine` - –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä –∏ –≤–µ—Ä–Ω—É—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤
4. `/check 1000001798` - –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ —Ä–∞–Ω—å—à–µ (—á–µ—Ä–µ–∑ API)

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –ë—Ä–∞—É–∑–µ—Ä–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∫–ª—é—á–µ–π (`/check flacon-magazine`):
- –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤–∏–¥–∏–º—ã–π –±—Ä–∞—É–∑–µ—Ä (–µ—Å–ª–∏ `headless: false`)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ (~10-30 —Å–µ–∫—É–Ω–¥)
- –ú–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω —Å–∞–π—Ç–æ–º –ø—Ä–∏ —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- **–î–ª—è —Ä—É—á–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫**: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∫–ª—é—á–∏ (`/check flacon-magazine`)
- **–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è**: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —á–∏—Å–ª–æ–≤—ã–µ ID (`/track 1000001798`)
- **–ú–µ–∂–¥—É –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏**: –¥–µ–ª–∞–π—Ç–µ –ø–∞—É–∑—ã 5-10 —Å–µ–∫—É–Ω–¥

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ `/check flacon-magazine`

**–ü—Ä–∏—á–∏–Ω–∞:** –í–æ–∑–º–æ–∂–Ω–æ, –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–ª–∏ —Å—Ç–∞—Ä—ã–π –±–æ—Ç –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª src/bot.js –æ–±–Ω–æ–≤–ª–µ–Ω
grep "handleCheckCommand" src/bot.js

# –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç - –±–æ—Ç –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω
```

### –û—à–∏–±–∫–∞ "Cannot find module './bot-test.js'"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –Ω–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã –Ω–∞ –º–µ—Å—Ç–µ:
ls src/bot-test.js
ls src/categoryTracker.js
ls src/storage.js
ls src/goldappleApiBrowser.js

# –ï—Å–ª–∏ –∫–∞–∫–∏—Ö-—Ç–æ —Ñ–∞–π–ª–æ–≤ –Ω–µ—Ç - —Å–∫–∞—á–∞–π—Ç–µ –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é –∫–æ–¥–∞
```

### –°–∞–π—Ç –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø

**–ü—Ä–∏—á–∏–Ω–∞:** GoldApple –æ–ø—Ä–µ–¥–µ–ª–∏–ª –±—Ä–∞—É–∑–µ—Ä–Ω—É—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é.

**–†–µ—à–µ–Ω–∏–µ:** –°–º. [ANTIBOT_SOLUTIONS.md](ANTIBOT_SOLUTIONS.md) –¥–ª—è —Ä–µ—à–µ–Ω–∏–π:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∫—Å–∏
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ `puppeteer-extra` —Å –ø–ª–∞–≥–∏–Ω–∞–º–∏
- –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–µ–∫ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏

### –ë—Ä–∞—É–∑–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** Puppeteer –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏–ª–∏ –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ Chrome.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Puppeteer
npm install puppeteer

# –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ chromium –≤—Ä—É—á–Ω—É—é (Linux)
sudo apt-get install chromium-browser
```

## –û—Ç–∫–∞—Ç –∫ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã, –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è:

### 1. –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏–º–ø–æ—Ä—Ç—ã –≤ src/bot.js:

```javascript
// import { handleCheckCommand } from './bot-test.js';
// import { getCategoryInfo as getCategoryInfoByKey, getAllCategoryKeys } from './categoryTracker.js';
```

### 2. –í–µ—Ä–Ω–∏—Ç–µ —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é –∫–æ–º–∞–Ω–¥—ã /check:

–ó–∞–º–µ–Ω–∏—Ç–µ –Ω–æ–≤—É—é –ª–æ–≥–∏–∫—É –Ω–∞ —Å—Ç–∞—Ä—É—é (–æ–Ω–∞ –±—ã–ª–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö).

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã:
- –°–æ–∑–¥–∞–π—Ç–µ Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f logs/bot.log` (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ [BOT_IMPLEMENTATION.md](BOT_IMPLEMENTATION.md) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π
